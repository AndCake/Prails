<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
        <title>Untitled Document</title>
    </head>
    <body>
        <h3 class="P4"><a name="_include"><span/></a>include</h3><h4 class="Heading_20_4"><a name="_Description_"><span/></a>Description:</h4>
        <p class="Text_20_body">
            Includes and evaluates either a template file or an event. When a template is included, it inherits the current variable scope/context of the line the include appears in. If an event is included, the current variable scope will be handed over to the handler as first parameter.
        </p>
        <h4 class="Heading_20_4"><a name="_Syntax_"><span/></a>Syntax:</h4>
        <p class="Text_20_body">
            <code>&lt;c:include (file="{template path}" | event="{event name}") /&gt;</code>
        </p>
        <table border="0" cellspacing="0" cellpadding="0" class="Table12">
            <colgroup>
                <col width="143"/><col width="599"/>
            </colgroup>
            <tr>
                <td style="text-align:left;width:3.283cm; " class="Table12_A1">
                    <p class="Table_20_Contents">
                        {template path}
                    </p>
                </td>
                <td style="text-align:left;width:13.716cm; " class="Table12_B1">
                    <p class="Table_20_Contents">
                        Path of the template to be included. The path needs to be relative to the framework root. If the template path is specified, the event attribute will be ignored. So it is only possible to include either a template or an event.
                    </p>
                </td>
            </tr>
            <tr>
                <td style="text-align:left;width:3.283cm; " class="Table12_A2">
                    <p class="Table_20_Contents">
                        {event name}
                    </p>
                </td>
                <td style="text-align:left;width:13.716cm; " class="Table12_B2">
                    <p class="Table_20_Contents">
                        Full event name (in the colon notation) of the event to be included. Notice that the included event must or die or exit, but normally return it's content. The included event won't be decorated with the base template. 
                    </p>
                </td>
            </tr>
        </table>
        <h4 class="Heading_20_4"><a name="_Example_"><span/></a>Example:</h4>
        <p class="Text_20_body">
            This example loops over all elements of the <code>$arr_param["stories"]</code>
            and for each entry it includes the template <code>show.html</code>
            of the story module. Within that template the variable <code>$arr_param["local"]["story"] </code>(or <code>#local.story</code>) can be used to access the current item.
        </p>
        <pre>
            &lt;h1&gt;Stories:&lt;/h1&gt;
            &lt;c:foreach var="stories" name="story"&gt;
                &lt;c:include file="templates/story/html/show.html" /&gt;
            &lt;/c:foreach&gt;
        </pre>
        <p class="Text_20_body">
            the <code>show.html</code>
            would look like:
        </p>
        <pre>
            &lt;div id="story#local.story.story_id"&gt;
                &lt;h3&gt;#local.story.title&lt;/h3&gt;
                &lt;p&gt;&lt;?=wordcut($arr_param["local"]["story"]["content"], 200, "... read more")?&gt;&lt;/p&gt;
            &lt;/div&gt;
        </pre>
    </body>
</html>
